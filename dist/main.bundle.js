!function(e){function t(t){for(var r,a,l=t[0],u=t[1],c=t[2],s=0,d=[];s<l.length;s++)a=l[s],o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var f=u;i.push([2,1]),n()}({2:function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=a(this,l(t).call(this,e,n))).colour=r,i.side=o,i}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Mesh"]),n=t,(o=[{key:"hex",get:function(){return this.colour},set:function(e){this.colour=e}}])&&i(n.prototype,o),c&&i(n,c),t}();function f(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}var s=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],o=new r.Group,e.next=4,new Promise(function(e,i){(new r.SVGLoader).load(t,function(t){var i=!0,a=!1,l=void 0;try{for(var u,f=t[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var s=u.value,d={steps:2,depth:1e3,bevelEnabled:!1},p=new r.MeshBasicMaterial({color:s.color,depthWrite:!1,wireframe:!0}),h=s.toShapes(!0),v=!0,y=!1,b=void 0;try{for(var w,m=h[Symbol.iterator]();!(v=(w=m.next()).done);v=!0){var g=w.value,x=new r.ExtrudeGeometry(g,d),S=new c(x,p,s.color.getHex(),n);o.add(S)}}catch(e){y=!0,b=e}finally{try{v||null==m.return||m.return()}finally{if(y)throw b}}}}catch(e){a=!0,l=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw l}}n?(o.rotation.y=90*Math.PI/180,o.rotation.z=180*Math.PI/180):o.rotation.z=180*Math.PI/180,(new r.Box3).setFromObject(o).getCenter(o.position).multiplyScalar(-1),e(o)},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){i(e)})});case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),d=n(1)(r),p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"intersect",o=new d(e),i=new d(t),a=null;switch(r){case"intersect":a=o.intersect(i);break;case"union":a=o.union(i);break;case"subtract":a=o.subtract(i);break;default:console.warn("".concat(r," is not a supported operation"))}var l=a.toMesh();return l.material=n,l.castShadow=!0,l},h=function e(t,n){for(var o={fronts:[],sides:[],hex:t[0].hex},i=t.map(function(e){return e});i.length;){var a=i.splice(0,1)[0];a.hex===o.hex&&(a.side?o.sides.push(a):o.fronts.push(a))}t=t.filter(function(e){return e.hex!==o.hex});var l=!0,u=!1,c=void 0;try{for(var f,s=o.fronts[Symbol.iterator]();!(l=(f=s.next()).done);l=!0){var d=f.value,h=!0,v=!1,y=void 0;try{for(var b,w=o.sides[Symbol.iterator]();!(h=(b=w.next()).done);h=!0){var m=b.value,g=p(d,m,new r.MeshLambertMaterial({color:o.hex}));n.push(g)}}catch(e){v=!0,y=e}finally{try{h||null==w.return||w.return()}finally{if(v)throw y}}}}catch(e){u=!0,c=e}finally{try{l||null==s.return||s.return()}finally{if(u)throw c}}t.length?e(t,n):t=null},v=new r.WebGLRenderer({canvas:document.querySelector("canvas")}),y=new r.Scene,b=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3),w=new r.PointLight(16777215,1,4e3);v.setSize(window.innerWidth,window.innerHeight-80),v.setPixelRatio(window.devicePixelRatio),b.position.set(100,100,-200),new r.OrbitControls(b),w.position.set(10,-100,0),y.add(w,new r.AmbientLight(4210752));!function e(){requestAnimationFrame(e),v.render(y,b)}();var m=document.getElementById("front_svg"),g=document.getElementById("side_svg"),x={front:null,side:null},S=function(e){var t=new FileReader;t.readAsDataURL(e.srcElement.files[0]),t.onload=function(){var n=!0,o=!1,i=void 0;try{for(var a,l=e.target.parentNode.children[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;"IMG"===u.nodeName&&e.target.parentNode.removeChild(u)}}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}var c=document.createElement("img");c.setAttribute("src",t.result),e.target.parentNode.append(c),"front"===e.target.name&&(x.front=t.result,e.target.previousElementSibling.innerHTML="change front image"),"side"===e.target.name&&(x.side=t.result,e.target.previousElementSibling.innerHTML="change side image"),null!=x.front&&null!=x.side&&(e.target.parentNode.parentNode.classList.add("chosen"),Promise.all([s(x.front),s(x.side,!0)]).then(function(e){var t=new r.Scene,n=[],o=!0,i=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;for((new r.Box3).setFromObject(c).getCenter(c.position).multiplyScalar(-1);c.children.length;)r.SceneUtils.detach(c.children[0],c,t)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}h(t.children,n);for(var f=new r.Group,s=0,d=n;s<d.length;s++){var p=d[s];f.add(p)}y.add(f)}).catch(function(e){console.log(e)}))}};m.addEventListener("change",S),g.addEventListener("change",S)}});